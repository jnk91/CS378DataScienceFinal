{
    "contents" : "US Energy\n====\n##Dataset\n\nOur data was taken from eia.gov. [Energy Information Administration](http://eia.gov).\nEIA provides a wide range of information and data products covering energy production, stocks, demand, imports, exports, and prices.\nIn particular, we focused on energy production relating to renewable energy.\nThis includes Solar, Geothermal, Wind, Hydroelectric, Biomass, Biodiesel, and Ethanol.\nEIA provides monthly energy reviews, and have been publishing them since 1976, with\nboth annual and monthly data statistics.\nWe downloaded multiple tables and uploaded them to the DS_US_ENERGY account.\n\n\n##Summary\nBy using anomaly detection from Oracle Data Miner, we were able to identify multiple\nmonths of abnormal growth in energy production. With the current data we have, we were\nunable to identify why these months exhibited large growth in their respective energy\nsources. Follow-up investigations on these particular years is required. \n\nThis summary lists the years of the anomalous months for generality.\nThe values are in percent and represent the percent growth of the particular energy\nsource in contrast with the previous month.\n\n![](./Anomaly/Summary.png)\n\n##Analysis\n\n###Oracle Data Miner\nThe major focus of our analysis was the Anomaly Detection algorithm of Oracle\nData Miner. In short, the Anomaly Detection algorithm examines the data given to it,\nand records 2 values that describes the abnormality of each entry.\nThese 2 values produced by the SVM (Support Vector Machine) are the ANOM_SVM_PRED and\nANOM_SVM_PROB.\n\nWe also briefly investigated Clustering but were not able to fully grasp the results\nof the algorithm.\n\n####Workflow\nOur workflow is included in the DataMiner folder.\nHere is a picture showing our Anomaly Detection Query\nData Correction SQL Queries were required to convert Date/Time values into numeric\nvalues as well as aggregate the data allowing for the creation of the calculated fields\nneeded by the Anomaly Detection.\n\n\n![](./Anomaly/Workflow.png)\n\n\n####SQL Queries\nWe were able to aggregate energy output from a specific source after using subqueries.\nWe totaled each energy source by adding the output from each sector. \n\nFor example: We summed the total solar energy output for that month by adding the\nresidential sector output, industrial output, commercial output, and so forth.\n\nIn order to generate useful calculated fields, we used the lag function to calculate\npercent growth of energy output from the previous month. We then classified growth for\neach source with a relative range.\n\n\tEach calculation has a raw percent as well as a classified field of [High - , Med - ,Low - , stagnant , Low + , Med + , High +]\n\nWe used these in our anamoly detection algorithms\n\n###ANOMALY DETECTION\n\n####ANOM_SVM_PRED\nA value of 0 indicates that the entry is anomalous.\nA value of 1 indicates that the entry is NOT anomalous.\n\n####ANOM_SVM_PROB\nThis value indicates the probability that the entry is typical or atypical.\nThe higher the value (as it gets closer to 1) the more anomalous the entry is.\n\n####Anomaly Detection Result Sample\nA small sample picture of the Anomaly Detection Query.\n\nSorted first by ANOM_SVM_PRED-Ascending(anomalous entries at the top/Value of 0)\n\nThen by ANOM_SVM_PROB-Descending(most anomalous entries at the top/Highest probability)\n\n\n![](./Anomaly/AnomalyTable.png)\n\n###Tableau\nWe then extracted this table to an excel file to allow it to be plotted in Tableau.\n\nThe table is located in Tableau folder and is named \"Anomaly.xlsx\"\n\n####Tableau Representation of Anomalies\nIn this Tableau representation, each circle represents a MONTH. Notice that in a\nparticular year, there are overlapping circles to represent each month of that year.\n\nThe X Axis represents years.\n\nANOM_SVM_PRED is denoted by color, where RED indicates the month had a value of 0,\nand is therefore an anomaly.\n\nGreen indicates the month is NOT anomalous.\n\nANOM_SVM_PROB is the Y Axis.\n\nFrom this representation, we notice 5 anomalous MONTHS in the years 1976, 1981,\n1989, 2010, and 2014.\n\nWe now decided to look at those particular anomalous months and examine their\nrespective energy production values.\n\n![](./Anomaly/Anomalies.png)\n\n\n###Anomaly Analysis\nBecause there is only 1 anomalous month in the years mentioned above, we will\njust refer to the anomalies by their year.\n\nWe examined each month's energy production and here are our results.\n\n####1976\nThe reason why 1976 was so high on the SVM's probability value is that it was the\nvery first entry recorded and displayed unique values for our calculated fields.\n\nIt was the only month that displayed stagnant and same values for each energy source.\n\n![](./Anomaly/1976.png)\n\n\n####1981\nFrom the picture below, you can see the extremely high percent growth of Ethanol\nrelative to the other energy sources.\n\n![](./Anomaly/1981All.png)\n\n####1981 Ethanol Tableau\nA Tableau representation of Ethanol Percent Growth (with Anomalies colored) over the\nyears shows that 1981 is most likely anomalous due to Ethanol's abnormal growth in \nthat one instance.\n\n![](./Anomaly/1981Ethanol.png)\n\n\n\n####1989\nIn 1989, examination of energy production of all energy sources shows that there\nwas a large growth in Solar and Wind energy. We now have to examine both Solar\nand Wind Energy production over the years.\n\n![](./Anomaly/1989All.png)\n\n\n####1989 Solar Tableau\nAs you can see, a plot of Solar Production over the years shows the extremely large\ngrowth in 1989.\n\n![](./Anomaly/1989Solar.png)\n\n\n####1989 Wind Tableau\nAs you can see, a plot of Wind Production over the years shows the extremely large\ngrowth in 1989.\n\nNOTE: An important point is that there was an even larger growth in 1994.\n\nThis will be addressed later, for now it is safe to say that 1989 was considered\nanomalous due to the large Solar and Wind growth in production.\n\n![](./Anomaly/1989Wind.png)\n\n\n####2010\nIn 2010, examination of energy production of all energy sources shows that there\nwas a large growth in Biodiesel production.\n\n![](./Anomaly/2010All.png)\n\n\n####2010 Biodiesel Tableau\nAgain we look at the Tableau representation of Biodiesel Percent Growth (with Anomalies\ncolored). This shows that 2010 is most likely anomalous due to Biodiesel's abnormal \ngrowth in that particular month.\n\n![](./Anomaly/2010Biodiesel.png)\n\n\n####2014\nFinally, the last anomaly to examine is 2014. examination of energy production of all \nenergy sources shows that there was a decent growth in Solar and Hydroelectric\nproduction.\n\n#####NOTE: However these values are nowhere near as large as our previous growths.\n\n![](./Anomaly/2014All.png)\n\n####2014 Hydroelectric Tableau\nJust like before we look at the Tableau representation of Hydroelectric Percent Growth\n(with Anomalies colored). This however shows that the growth of Hydroelectric Energy\nwasn't necessarily that high in comparison with its other years.\n\nWe can conclude that hydroelectric energy growth was not a large factor in the SVM's\ndecision to deem this month anomalous.\n\n![](./Anomaly/Hydroelectric.png)\n\n####2014 Solar Tableau\nBecause the Solar Tableau representation is skewed with the extremely large growth in\n1989, we filtered out that particular month and examined the rest of the entries.\n\nOnce filtered, we can see that 2014 does have a relatively large percent growth\nin comparison with the other months. This could be why 2014 was considered anomalous\nby the SVM.\n\n![](./Anomaly/SolarFiltered.png)\n\n\n####Wind Revisited\nGoing back to Wind Production over the years, we notice that 1994 was anomalous but\nwas not listed in our top 5 anomalous years.\n\n![](./Anomaly/1994Wind.png)\n\n#####Anomalies Picture\n#####NOTE: NO 1994\n\n![](./Anomaly/Anomalies.png)\n\n####1994\nLooking further we can see that Wind growth compared to other energy sources was\nextremely large but also that this growth is the HIGHEST out of any of the other\nanomalous months (Previous high was ~70% increase in solar 1989).\n\nThis wind percentage growth is 116%!\n\n![](./Anomaly/1994All.png)\n\n####1994 Summary\nAlthough this wind growth was the highest we've seen out of any energy source,\nthe SVM did not give the entry a high probability value and was therefore not\nin the top 5 anomalous months.\n\n\n\n\n\n###CLUSTERING\nWe also briefly investigated clustering on our datasets. Here are our results.\n\n\n####Clustering Results\n\n![](./Cluster/Cluster.png)\n\n####Clustering Analysis\nThe clusters we examined contained close to 10% or higher of the total count. \nIn this case, there were 4 clusters:\n\nCluster 14\n\nCluster 15\n\nCluster 11\n\nCluster 8\n\n\nWe tried to investigate these clusters individually.\n\nWe wrote a small program that matched each month in our data to the attributes in each\ncluster. It goes through the text document containing the data, and parses line by line\nand matches the attributes per column. If it matches every attribute, it prints out the\nyear and month.\n\nThe program is included in the Cluster folder(named cluster.java) along with the input\nfor the program (monthlycluster.txt)\n\n####Cluster 14\n![](./Cluster/Cluster14.png)\n\n#####Program Output:\n\nYear: 1986  Month: 3\n\nYear: 1989\tMonth: 1\n\nYear: 1989\tMonth: 3\n\nYear: 1991\tMonth: 5\n\nYear: 1993\tMonth: 3\n\nYear: 1994\tMonth: 3\n\nYear: 1999\tMonth: 3\n\nYear: 2001\tMonth: 3\n\nYear: 2002\tMonth: 6\n\nYear: 2002\tMonth: 7\n\nYear: 2003\tMonth: 6\n\nYear: 2005\tMonth: 6\n\nYear: 2006\tMonth: 5\n\nYear: 2007\tMonth: 3\n\nYear: 2008\tMonth: 3\n\nYear: 2009\tMonth: 3\n\nYear: 2012\tMonth: 3\n\nYear: 2014\tMonth: 6\n\n#####Cluster 14 Observation\nThese months shared all of the attributes in the clusters. There are many months not\nlisted here because they do not exactly match every attribute for the cluster. For\nexample, for cluster 14, the clustering algorithm found 72 months that shared some of\nthe attributes found, they do not necessarily possess the exact attributes in this\ncluster. Thus, when we ran the small program, it only found a small set that matched\nthe attributes in cluster 14. However, we think that matching months are strong\nrepresentations of the data in that cluster. By \"strong representation\", we mean that\nthe months that shared the traits, for example in cluster 14, will largely revolve\naround the years and months found in our program, namely:\n\n1989: January - March\n\nEarly 1990's: March - May\n\n1999 - 2010: March - July\n\nThat is the general trend found in the months that shares the attributes of cluster 14.\nIt seems as if wind, hydro, and solar energy experienced moderate growth from 1989 to\npresent day in the first half of each year if we generalize this trend further.\n\n\n\n\n####Cluster 15\n![](./Cluster/Cluster15.png)\n\n#####Program Output:\n\nYear: 1977\tMonth: 4\n\nYear: 1977\tMonth: 9\n\nYear: 1978\tMonth: 4\n\nYear: 1978\tMonth: 9\n\nYear: 1979\tMonth: 4\n\nYear: 1980\tMonth: 4\n\nYear: 1981\tMonth: 4\n\nYear: 1981\tMonth: 11\n\nYear: 1982\tMonth: 4\n\nYear: 1987\tMonth: 9\n\nYear: 1988\tMonth: 9\n\n#####Cluster 15 Observation\nMost of the months gathered here were April and September, we're uncertain as to why\nthese months shared these attributes\n\n\n\n\n####Cluster 11\n![](./Cluster/Cluster11.png)\n\n#####Program Output:\n\nYear: 1991\tMonth: 3\n\nYear: 1992\tMonth: 3\n\nYear: 1992\tMonth: 5\n\nYear: 1998\tMonth: 5\n\nYear: 2000\tMonth: 3\n\nYear: 2007\tMonth: 6\n\nYear: 2009\tMonth: 6\n\nYear: 2010\tMonth: 6\n\nYear: 2012\tMonth: 7\n\nYear: 2012\tMonth: 6\n\nYear: 2013\tMonth: 5\n\nYear: 2013\tMonth: 6\n\n#####Cluster 11 Observation\nMost of the months gathered were from March to June. Which is primarily the Spring\nseason in the U.S. This could partially explain the increased solar energy production\nas daylength is steadily increasing from the end of the Winter season and going into\nSummer season.\n\n\n\n\n####Cluster 8\n![](./Cluster/Cluster8.png)\n\n####Program Output:\n\nYear: 1991\tMonth: 1\n\nYear: 1992\tMonth: 1\n\nYear: 1994\tMonth: 8\n\nYear: 1996\tMonth: 3\n\nYear: 1997\tMonth: 3\n\nYear: 1998\tMonth: 4\n\nYear: 1998\tMonth: 3\n\n#####Cluster 8 Observation\nThe only trend noticeable in this cluster is that all of the matches occurred\nin the 1990's.\n\n\n\n###Summary\nUnfortunately, we were unable to explain these large energy growths or why\n1994 was not listed higher in the anomalous probability scale.\n\nWe tried looking into energy prices and matching these energy growths with any\nchanges but found no correlations.\n\nWe also looked at energy subsidies and found no correlation with these growths.\n\nFurther investigation needed to explain these growths as well as clustering results.\n\n\n",
    "created" : 1417485045646.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3778422434",
    "id" : "AAA57663",
    "lastKnownWriteTime" : 1417584752,
    "path" : "~/Desktop/CS378 Data Science/FinalProject/KnitR/USEnergy.Rmd",
    "project_path" : "USEnergy.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}